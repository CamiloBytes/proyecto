function n(){const t=localStorage.getItem("greenpath_cart");return t?JSON.parse(t):[]}function o(t){localStorage.setItem("greenpath_cart",JSON.stringify(t))}function d(t){const e=n(),r=e.find(a=>a.id_product===t.id_product);return r?r.quantity+=1:e.push({...t,quantity:1,added_at:new Date().toISOString()}),o(e),e}function s(t){const r=n().filter(a=>a.id_product!==t);return o(r),r}function g(t,e){const r=n(),a=r.find(c=>c.id_product===t);if(a){if(a.quantity=e,e<=0)return s(t);o(r)}return r}function i(){localStorage.removeItem("greenpath_cart")}function u(){return n().reduce((e,r)=>e+r.price*r.quantity,0)}function l(t){const e=n();if(e.length===0)return null;const r={id_order:Date.now(),order_date:new Date().toISOString(),items:e,total:u(),payment_method:t,status:"Entregado"},a=JSON.parse(localStorage.getItem("greenpath_orders")||"[]");return a.push(r),localStorage.setItem("greenpath_orders",JSON.stringify(a)),i(),r}function f(){return JSON.parse(localStorage.getItem("greenpath_orders")||"[]")}export{d as a,n as b,u as c,l as d,f as g,s as r,g as u};
