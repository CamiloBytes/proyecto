import{a as r}from"./index-NIGUFBhG.js";document.addEventListener("DOMContentLoaded",function(){if(window.location.pathname.includes("auth.html"))return;const t=localStorage.getItem("user");if(!t){console.log("Usuario no autenticado. Redirigiendo a p치gina de autenticaci칩n...");const o=window.location.origin;window.location.href=`${o}/src/views/auth.html`;return}try{const o=JSON.parse(t);if(!o||!o.access_token){console.log("Token de acceso inv치lido. Redirigiendo..."),localStorage.removeItem("user");const n=window.location.origin;window.location.href=`${n}/src/views/auth.html`}}catch(o){console.error("Error al parsear datos de usuario:",o),localStorage.removeItem("user");const n=window.location.origin;window.location.href=`${n}/src/views/auth.html`}});console.log("Guard global cargado - Verificando autenticaci칩n...");r.interceptors.request.use(function(e){const t=localStorage.getItem("user");if(t){const o=JSON.parse(t);o.access_token&&(e.headers.Authorization=`Bearer ${o.access_token}`)}return e},function(e){return Promise.reject(e)});r.interceptors.response.use(function(e){return e},function(e){return e.response&&e.response.status===401&&(localStorage.removeItem("user"),window.location.href="/src/views/auth.html"),Promise.reject(e)});document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".hamburger"),t=document.querySelector(".mobile-menu");e&&t&&(e.addEventListener("click",()=>{const o=t.style.display==="block";t.style.display=o?"none":"block"}),document.addEventListener("click",o=>{!e.contains(o.target)&&!t.contains(o.target)&&(t.style.display="none")}))});
